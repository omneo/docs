<h2 id='profile-attributes'>Profile Attributes</h2>
<p>This API allows you to create, read, update and delete profile attributes.</p>
<h3 id='profile-attribute-properties'>Profile Attribute Properties</h3>
<table><thead>
<tr>
<th>Property</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>handle</td>
<td>The attribute handle</td>
</tr>
<tr>
<td>name</td>
<td>The display name of the attribute</td>
</tr>
<tr>
<td>namespace</td>
<td>The attribute namespace</td>
</tr>
<tr>
<td>value</td>
<td>The attribute value</td>
</tr>
<tr>
<td>type</td>
<td>The attribute type (e.g. string)</td>
</tr>
<tr>
<td>default</td>
<td>The attribute default value</td>
</tr>
<tr>
<td>rules</td>
<td>The attribute rules (e.g. must be email, url)</td>
</tr>
<tr>
<td>is_system</td>
<td>Whether or not the attribute is deletable</td>
</tr>
</tbody></table>
<h3 id='available-types'>Available Types</h3>
<p>Types determine how the attribute value is casted. It&#39;s important to note that types <em>do not
enforce a specific type on ingress</em>, e.g. if the type is set to <code>string</code> and a <code>float</code> is entered, the float value will be casted as a <code>string</code>.</p>

<table><thead>
<tr>
<th>Type</th>
<th>Example</th>
</tr>
</thead><tbody>
<tr>
<td>string</td>
<td>&quot;1123-2314-221-4421&quot;</td>
</tr>
<tr>
<td>float</td>
<td>1.245</td>
</tr>
<tr>
<td>integer</td>
<td>100</td>
</tr>
<tr>
<td>boolean</td>
<td>true</td>
</tr>
</tbody></table>
<h3 id='rule-examples'>Rule Examples</h3>
<p>Rules determine how a value is validated on <em>ingress</em>. Rules should be used in conjunction with types to enforce type values.</p>

<table><thead>
<tr>
<th>Rule</th>
<th>Example</th>
</tr>
</thead><tbody>
<tr>
<td>Allow only emails</td>
<td><code>[&quot;email&quot;, &quot;string&quot;, &quot;required&quot;]</code></td>
</tr>
<tr>
<td>Specify a range</td>
<td><code>[&quot;required&quot;, &quot;between:0,100&quot;]</code></td>
</tr>
<tr>
<td>Allow only boolean values</td>
<td><code>[&quot;required&quot;, &quot;boolean&quot;]</code></td>
</tr>
<tr>
<td>Allow only numerical values</td>
<td><code>[&quot;required&quot;, &quot;numeric&quot;]</code></td>
</tr>
<tr>
<td>Allow a specific option</td>
<td><code>[&quot;required&quot;, &quot;in:one,two,three,four,five&quot;]</code></td>
</tr>
<tr>
<td>Allow a specific regex pattern</td>
<td><code>[&quot;required&quot;, &quot;regex:pattern&quot;]</code></td>
</tr>
<tr>
<td>Allow only strings</td>
<td><code>[&quot;required&quot;, &quot;string&quot;]</code></td>
</tr>
<tr>
<td>Allow after date</td>
<td><code>[&quot;required&quot;, &quot;after_or_equal:date&quot;]</code></td>
</tr>
</tbody></table>
<h3 id='rule-type-examples'>Rule / Type Examples</h3>
<p>Please see the below table for a common list of rule / type combinations.</p>

<table><thead>
<tr>
<th>Example</th>
<th>Type</th>
<th>Rule</th>
</tr>
</thead><tbody>
<tr>
<td>Allow strings</td>
<td><code>string</code></td>
<td><code>required</code>, <code>string</code></td>
</tr>
<tr>
<td>Allow floats, integers</td>
<td><code>string</code></td>
<td><code>required</code>, <code>numeric</code></td>
</tr>
<tr>
<td>Allow booleans</td>
<td><code>boolean</code></td>
<td><code>required</code>, <code>boolean</code></td>
</tr>
</tbody></table>
<h3 id='create-a-profile-attribute'>Create a profile attribute</h3>
<blockquote>
<p>JSON Response Example:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Subscribe to Weekly Email"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"handle"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subscribe-weekly"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"namespace"</span><span class="p">:</span><span class="w"> </span><span class="s2">"preferences"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"boolean"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"default"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="s2">"rules"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="s2">"required"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"boolean"</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="s2">"is_system"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-02-01 04:58:41"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-02-01 03:52:31"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This API allows you to create profile attributes.</p>
<h4 id='http-request'>HTTP Request</h4>
<p><code>POST /api/v1/profiles/attributes</code></p>

<aside class="notice">
Profile attributes are unique to namespace and handle.
</aside>

<aside class="notice">
Every profile has every attribute. If a profile does not have an attribute value, the default value is used.
</aside>
<h4 id='request-properties'>Request Properties</h4>
<table><thead>
<tr>
<th>Property</th>
<th>Type</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td><code>nullable</code> <code>string</code></td>
</tr>
<tr>
<td>namespace</td>
<td><code>required</code> <code>string</code></td>
</tr>
<tr>
<td>type</td>
<td><code>required</code> <code>in: integer, float, boolean, string</code></td>
</tr>
<tr>
<td>rules</td>
<td><code>required</code> <code>array</code></td>
</tr>
<tr>
<td>rules.*</td>
<td><code>required</code> <code>in: email, url, required, string, boolean, float, integer</code></td>
</tr>
<tr>
<td>default</td>
<td><code>sometimes</code> <code>nullable</code> <code>string</code></td>
</tr>
<tr>
<td>is_system</td>
<td><code>sometimes</code> <code>required</code> <code>boolean</code></td>
</tr>
<tr>
<td>handle</td>
<td><code>required</code> <code>unique: namespace, handle</code></td>
</tr>
</tbody></table>
<h3 id='list-all-profile-attributes'>List all profile attributes</h3>
<blockquote>
<p>JSON Response Example:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Subscribe to Weekly Email"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"handle"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subscribe-weekly"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"namespace"</span><span class="p">:</span><span class="w"> </span><span class="s2">"preferences"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"boolean"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"default"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="s2">"rules"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="s2">"required"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"boolean"</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="s2">"is_system"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-02-01 04:58:41"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-02-01 03:52:31"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Subscribe to Push Notifications"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"handle"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subscribe-push"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"namespace"</span><span class="p">:</span><span class="w"> </span><span class="s2">"preferences"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"boolean"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"default"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="s2">"rules"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="s2">"required"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"boolean"</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="s2">"is_system"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-02-01 01:58:41"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-02-01 03:52:31"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This API lets you list all profile attributes.</p>
<h4 id='http-request-2'>HTTP Request</h4>
<p><code>GET /api/v1/profiles/attributes</code></p>
<h3 id='retrieve-a-profile-attribute'>Retrieve a profile attribute</h3>
<blockquote>
<p>JSON Response Example:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Subscribe to Push Notifications"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"handle"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subscribe-push"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"namespace"</span><span class="p">:</span><span class="w"> </span><span class="s2">"preferences"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"boolean"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"default"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="s2">"rules"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="s2">"required"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"boolean"</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="s2">"is_system"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-02-01 01:58:41"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-02-01 03:52:31"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This API lets you retrieve a profile attribute.</p>
<h4 id='http-request-3'>HTTP Request</h4>
<p><code>GET /api/v1/profiles/attributes/{namespace:handle}</code></p>

<aside class="notice">
Profile attributes are accessed by their unique `namespace:handle` combination. e.g. `preferences:subscribe-push`
</aside>
<h3 id='update-a-profile-attribute'>Update a profile attribute</h3>
<blockquote>
<p>JSON Response Example:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Subscribe to Push Notifications"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"handle"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subscribe-push"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"namespace"</span><span class="p">:</span><span class="w"> </span><span class="s2">"preferences"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"boolean"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"default"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="s2">"rules"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="s2">"required"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"boolean"</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="s2">"is_system"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-02-01 01:58:41"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-03-01 03:52:31"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This API allows you to update a profile attribute.</p>
<h4 id='http-request-4'>HTTP Request</h4>
<p><code>PUT /api/v1/{resource}/{resourceId}/{namespace}:{handle}</code></p>
<h4 id='request-properties-2'>Request Properties</h4>
<table><thead>
<tr>
<th>Properties</th>
<th>Type</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td><code>sometimes</code> <code>nullable</code> <code>string</code></td>
</tr>
</tbody></table>
<h3 id='delete-a-profile-attribute'>Delete a profile attribute</h3>
<p>This API allows you to delete a profile attribute.</p>
<h4 id='http-request-5'>HTTP Request</h4>
<p><code>DELETE /api/v1/profiles/attributes/{namespace}:{handle}</code></p>
<h3 id='list-all-profile-attributes-for-a-profile'>List all profile attributes for a profile</h3>
<blockquote>
<p>JSON Response Example:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"preferences"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Subscribe to Push Notifications"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"handle"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subscribe-push"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"namespace"</span><span class="p">:</span><span class="w"> </span><span class="s2">"preferences"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"boolean"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"default"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                </span><span class="s2">"rules"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                    </span><span class="s2">"required"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"boolean"</span><span class="w">
                </span><span class="p">],</span><span class="w">
                </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
                </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-02-01 01:58:41"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-03-01 03:52:31"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Subscribe to Weekly Email"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"handle"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subscribe-weekly"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"namespace"</span><span class="p">:</span><span class="w"> </span><span class="s2">"preferences"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"boolean"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"default"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                </span><span class="s2">"rules"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                    </span><span class="s2">"required"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"boolean"</span><span class="w">
                </span><span class="p">],</span><span class="w">
                </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-02-01 04:58:41"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-02-01 03:52:31"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This API allows you to list all profile attributes for a given profile.</p>
<h4 id='http-request-6'>HTTP Request</h4>
<p><code>GET /api/v1/profiles/{profile}/attributes</code></p>

<aside class="notice">
Profile attributes are automatically grouped by their namespace.
</aside>
<h3 id='update-a-profile-attribute-for-a-profile'>Update a profile attribute for a profile</h3>
<blockquote>
<p>JSON Response Example:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Subscribe to Push Notifications"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"handle"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subscribe-push"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"namespace"</span><span class="p">:</span><span class="w"> </span><span class="s2">"preferences"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"boolean"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"default"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="s2">"rules"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="s2">"required"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"boolean"</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-02-01 01:58:41"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-03-01 03:52:31"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This API allows you to update a profile attribute for a given profile.</p>
<h4 id='http-request-7'>HTTP Request</h4>
<p><code>PUT /api/v1/profiles/{profile}/attributes/{namespace}:{handle}</code></p>
<h4 id='request-properties-3'>Request Properties</h4>
<table><thead>
<tr>
<th>Property</th>
<th>Type</th>
</tr>
</thead><tbody>
<tr>
<td>value</td>
<td><code>sometimes</code> <code>in: rules</code></td>
</tr>
</tbody></table>
